# Blabotanie — голосовой мессенджер
**Blabotanie** — это десктопное приложение для общения с друзьями, поддерживающее:
1. голосовые звонки (WebRTC),
2. обмен сообщениями (WebSocket + STOMP),
3. список друзей и заявки в реальном времени,
4. автообновление, автозапуск, работу в трее, шифрование чатов и уведомления.

## Стек технологий

| Клиент                 | Сервер             | Обмен данными     |
|------------------------|--------------------|-------------------|
| Electron (HTML/CSS/JS) | Spring Boot (Java) | WebSocket (STOMP) |
| WebRTC                 | PostgreSQL, Redis  | REST API + JWT    |
----------------
## Возможности
1. Добавление и управление друзьями 
2. Вызовы в реальном времени (WebRTC, ICE)
3. Шифрованный чат
4. Отображение онлайн-статуса
5. Нотификации даже в свернутом/трей-режиме
6. Автообновление через GitHub Releases
7. Автозапуск и сворачивание в трей
----------
## Установка
### Готовый релиз (Windows):
1. Перейди в Releases
2. Скачай .exe файл последней версии 
3. Установи и запусти

### Для разработчиков:
```bash
git clone https://github.com/Miffle/blabotanie.git
```
```bash
cd blabotanie
```
```bash
npm install
```
```bash
npm start
```
⚙️ Сборка дистрибутива
```bash
npm run dist
```
Дистрибутив и auto-update готовятся с помощью electron-builder.

## Особенности реализации
1. STOMP/WebSocket клиент с авторизацией 
2. WebRTC ICE-кандидаты передаются через WebSocket 
3. UI блок при входящем звонке (вместо confirm)
4. Защита от XSS в чате (escapeHtml)
5. Обновления скачиваются и устанавливаются без лишнего участия пользователя

## Безопасность
1. Все сообщения экранируются перед отображением 
2. JWT-токен хранится в localStorage, обновляется по refreshToken 
3. ICE и STUN используются для NAT traversal, только голос (без видео)