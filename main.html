<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"/>
    <title>Blabotanie ‚Äî –î—Ä—É–∑—å—è</title>
    <link rel="stylesheet" href="resources/styles/style.css"/>
</head>
<body>
<div class="main">
    <div class="left-main">
        <h2>–î—Ä—É–∑—å—è</h2>
        <div class="add-friend">
            <input type="text" id="add-friend-username" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"/>
            <button onclick="sendFriendRequest()">–î–æ–±–∞–≤–∏—Ç—å</button>
            <p id="add-friend-status" class="status-msg"></p>
        </div>
        <div id="friends-list"></div>

        <h2>–í—Ö–æ–¥—è—â–∏–µ –∑–∞—è–≤–∫–∏</h2>
        <div id="incoming-requests" style="display: none;"></div>

        <h2>–ò—Å—Ö–æ–¥—è—â–∏–µ –∑–∞—è–≤–∫–∏</h2>
        <div id="outgoing-requests" style="display: none;"></div>
    </div>
    <div class="right-main">
        <div id="call-window" style="display: none;">
            <h3>–†–∞–∑–≥–æ–≤–æ—Ä —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º: <b><span id="caller-name"></span></b></h3>
            <div><strong>–í—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞:</strong> <span id="call-timer">00:00</span></div>
            <button id="end-call" onclick="selfEndCall()">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫</button>
            <button id="toggle-mic" onclick="toggleMic()">üé§ ‚úÖ</button>
            <button id="toggle-audio" onclick="toggleRemoteAudio()">üîä ‚úÖ</button>
        </div>
        <div id="chat-box" class="chat-box">
            <div class="chat-header">
                <span id="chat-user">–ß–∞—Ç</span>
                <button onclick="closeChat()" class="close-chat">&times;</button>
            </div>
            <div id="chat-messages" class="chat-messages"></div>
            <div class="chat-input">
                <input type="text" id="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                <button onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
        <label>üîä –ì—Ä–æ–º–∫–æ—Å—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
            <input type="range" min="0" max="1" step="0.01" value="1" id="notification-volume-slider">
        </label>

    </div>
    <div class="user-info">
        <span id="current-username">üë§ user</span>
        <button id="logout-button">–í—ã–π—Ç–∏</button>
    </div>
    <div id="update-container" style="display: none; position: fixed; bottom: 10px; right: 10px; background: #fff; border: 1px solid #ccc; padding: 10px; border-radius: 6px;">
        <div>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ... <span id="update-percent">0%</span></div>
        <progress id="update-progress" value="0" max="100" style="width: 200px;"></progress>
    </div>

</div>
<audio id="localAudio" autoplay muted></audio>
<audio id="remoteAudio" autoplay></audio>


<script src="scripts/utils.js"></script>
<script src="scripts/auth.js"></script>
<script src="scripts/websocket.js"></script>
<script src="scripts/chat.js"></script>
<script src="scripts/friends.js"></script>
<script src="scripts/calls.js"></script>
<script src="scripts/ui.js"></script>
</body>
</html>
